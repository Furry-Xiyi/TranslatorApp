<Page
    x:Class="TranslatorApp.Pages.OnlineTranslatePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:TranslatorApp.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <!-- 顶部 Padding 从 20 改为 10，整体上移 -->
    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" Padding="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 浮动 InfoBar -->
        <InfoBar x:Name="TopInfoBar"
                 Width="300"
                 IsOpen="False"
                 Severity="Success"
                 Title="成功"
                 Message="这里是提示内容"
                 IsClosable="False"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Top"
                 Margin="0,10,0,0"
                 RenderTransformOrigin="0.5,0">
            <InfoBar.RenderTransform>
                <TranslateTransform Y="-80"/>
            </InfoBar.RenderTransform>
        </InfoBar>

        <!-- 语言选择区，Margin 从 40 改为 10 -->
        <StackPanel Grid.Row="0"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Spacing="8"
                    Margin="0,10,0,0">
            <ComboBox x:Name="CbFromLang" Width="120"/>
            <Button x:Name="BtnSwapLang" Width="40" Click="BtnSwapLang_Click">
                <SymbolIcon Symbol="Switch"/>
            </Button>
            <ComboBox x:Name="CbToLang" Width="120"/>
        </StackPanel>

        <!-- 输入输出区，减少上下 Margin，并加中间间距列 -->
        <Grid Grid.Row="1" Margin="0,10,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="16"/>
                <!-- 中间固定间距 -->
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- 输入框 -->
            <Grid Grid.Column="0">
                <TextBox x:Name="TbInput"
                         TextChanged="TbInput_TextChanged"
                         AcceptsReturn="True"
                         TextWrapping="Wrap"
                         ScrollViewer.VerticalScrollBarVisibility="Auto"
                         PlaceholderText="请输入要翻译的文本"/>
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Bottom"
                            Margin="0,0,6,6"
                            Spacing="4">
                    <Button Width="36" Height="36" Padding="4" Click="BtnCopyInput_Click">
                        <SymbolIcon Symbol="Copy"/>
                    </Button>
                </StackPanel>
            </Grid>

            <!-- 输出框 -->
            <Grid Grid.Column="2">
                <TextBox x:Name="TbOutput"
                         IsReadOnly="True"
                         AcceptsReturn="True"
                         TextWrapping="Wrap"
                         ScrollViewer.VerticalScrollBarVisibility="Auto"
                         PlaceholderText="翻译结果"
                         IsHitTestVisible="False"
                         Foreground="{ThemeResource TextFillColorPrimaryBrush}"
                         Opacity="1"/>
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Bottom"
                            Margin="0,0,6,6"
                            Spacing="4">
                    <Button Width="36" Height="36" Padding="4" Click="BtnCopyOutput_Click">
                        <SymbolIcon Symbol="Copy"/>
                    </Button>
                    <Button Width="36" Height="36" Padding="4" Click="BtnSpeakOutput_Click">
                        <SymbolIcon Symbol="Volume"/>
                    </Button>
                    <Button Width="36" Height="36" Padding="4" Click="BtnFavOutput_Click">
                        <SymbolIcon Symbol="Favorite"/>
                    </Button>
                </StackPanel>
            </Grid>
        </Grid>

        <!-- API 选择与翻译按钮 -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Spacing="8">
            <ComboBox x:Name="CbApi" Width="140"/>
            <Button x:Name="BtnTranslate"
                    Content="翻译"
                    Width="100"
                    IsEnabled="False" 
                Click="BtnTranslate_Click"
                    Background="{ThemeResource SystemControlBackgroundAccentBrush}"
                    Foreground="White"/>
        </StackPanel>
    </Grid>
</Page>